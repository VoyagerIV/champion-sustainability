{"ast":null,"code":"Object.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.parallaxLayout = parallaxLayout;\nvar _reactNativeReanimated = require(\"react-native-reanimated\");\nfunction parallaxLayout(baseConfig) {\n  var modeConfig = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var size = baseConfig.size,\n    vertical = baseConfig.vertical;\n  var _modeConfig$parallaxS = modeConfig.parallaxScrollingOffset,\n    parallaxScrollingOffset = _modeConfig$parallaxS === void 0 ? 100 : _modeConfig$parallaxS,\n    _modeConfig$parallaxS2 = modeConfig.parallaxScrollingScale,\n    parallaxScrollingScale = _modeConfig$parallaxS2 === void 0 ? 0.8 : _modeConfig$parallaxS2,\n    _modeConfig$parallaxA = modeConfig.parallaxAdjacentItemScale,\n    parallaxAdjacentItemScale = _modeConfig$parallaxA === void 0 ? Math.pow(parallaxScrollingScale, 2) : _modeConfig$parallaxA;\n  return function () {\n    var _f = function _f(value) {\n      var translate = (0, _reactNativeReanimated.interpolate)(value, [-1, 0, 1], [-size + parallaxScrollingOffset, 0, size - parallaxScrollingOffset]);\n      var zIndex = (0, _reactNativeReanimated.interpolate)(value, [-1, 0, 1], [0, size, 0], _reactNativeReanimated.Extrapolate.CLAMP);\n      var scale = (0, _reactNativeReanimated.interpolate)(value, [-1, 0, 1], [parallaxAdjacentItemScale, parallaxScrollingScale, parallaxAdjacentItemScale], _reactNativeReanimated.Extrapolate.CLAMP);\n      return {\n        transform: [vertical ? {\n          translateY: translate\n        } : {\n          translateX: translate\n        }, {\n          scale: scale\n        }],\n        zIndex: zIndex\n      };\n    };\n    _f._closure = {\n      interpolate: _reactNativeReanimated.interpolate,\n      size: size,\n      parallaxScrollingOffset: parallaxScrollingOffset,\n      Extrapolate: {\n        CLAMP: _reactNativeReanimated.Extrapolate.CLAMP\n      },\n      parallaxAdjacentItemScale: parallaxAdjacentItemScale,\n      parallaxScrollingScale: parallaxScrollingScale,\n      vertical: vertical\n    };\n    _f.asString = \"function _f(value){const{interpolate,size,parallaxScrollingOffset,Extrapolate,parallaxAdjacentItemScale,parallaxScrollingScale,vertical}=jsThis._closure;{const translate=interpolate(value,[-1,0,1],[-size+parallaxScrollingOffset,0,size-parallaxScrollingOffset]);const zIndex=interpolate(value,[-1,0,1],[0,size,0],Extrapolate.CLAMP);const scale=interpolate(value,[-1,0,1],[parallaxAdjacentItemScale,parallaxScrollingScale,parallaxAdjacentItemScale],Extrapolate.CLAMP);return{transform:[vertical?{translateY:translate}:{translateX:translate},{scale:scale}],zIndex:zIndex};}}\";\n    _f.__workletHash = 942233491674;\n    _f.__location = \"/Users/zhaodonghao/code/github/react-native-reanimated-carousel/src/layouts/parallax.ts (47:9)\";\n    return _f;\n  }();\n}","map":{"version":3,"mappings":";;;;AAAA;AAmCO,SAASA,cAAT,CACLC,UADK,EAGL;EAAA,IADAC,UACA,uEAD4B,EAC5B;EACA,IAAQC,IAAR,GAA2BF,UAA3B,CAAQE,IAAR;IAAcC,QAAd,GAA2BH,UAA3B,CAAcG,QAAd;EACA,4BAIIF,UAJJ,CACEG,uBADF;IACEA,uBADF,sCAC4B,GAD5B;IAAAC,yBAIIJ,UAJJ,CAEEK,sBAFF;IAEEA,sBAFF,uCAE2B,GAF3B;IAAAC,wBAIIN,UAJJ,CAGEO,yBAHF;IAGEA,yBAHF,+CAG8BF,sBAH9B,EAGwD,CAHxD;EAMA;IAAA,qBAAQG,KAAR,EAA0B;MAExB,IAAMC,SAAS,GAAG,wCAChBD,KADgB,EAEhB,CAAC,CAAC,CAAF,EAAK,CAAL,EAAQ,CAAR,CAFgB,EAGhB,CAAC,CAACP,IAAD,GAAQE,uBAAT,EAAkC,CAAlC,EAAqCF,IAAI,GAAGE,uBAA5C,CAHgB,CAAlB;MAMA,IAAMO,MAAM,GAAG,wCACbF,KADa,EAEb,CAAC,CAAC,CAAF,EAAK,CAAL,EAAQ,CAAR,CAFa,EAGb,CAAC,CAAD,EAAIP,IAAJ,EAAU,CAAV,CAHa,EAIbU,mCAAYC,KAJC,CAAf;MAOA,IAAMC,KAAK,GAAG,wCACZL,KADY,EAEZ,CAAC,CAAC,CAAF,EAAK,CAAL,EAAQ,CAAR,CAFY,EAGZ,CACED,yBADF,EAEEF,sBAFF,EAGEE,yBAHF,CAHY,EAQZI,mCAAYC,KARA,CAAd;MAWA,OAAO;QACLE,SAAS,EAAE,CACTZ,QAAQ,GACJ;UACAa,UAAU,EAAEN;QADZ,CADI,GAIJ;UACAO,UAAU,EAAEP;QADZ,CALK,EAQT;UACEI,KAAK,EAALA;QADF,CARS,CADN;QAaLH,MAAM,EAANA;MAbK,CAAP;IAeD,CAzCD;IAAAO;MAAAC,aA1CcA,kCA0Cd;MAAAjB,MA3CkDA,IA2ClD;MAAAE,yBA5C6FA,uBA4C7F;MAAAQ;QAAAC,OA1C6HD,mCAAYC;MA0CzI;MAAAL,2BA1CiGA,yBA0CjG;MAAAF,wBA1CyEA,sBA0CzE;MAAAH,UAxCcA;IAwCd;IAAAe;IAAAA;IAAAA;IAAA;EAAA;AA0CD","names":["parallaxLayout","baseConfig","modeConfig","size","vertical","parallaxScrollingOffset","_modeConfig$parallaxS2","parallaxScrollingScale","_modeConfig$parallaxA","parallaxAdjacentItemScale","value","translate","zIndex","Extrapolate","CLAMP","scale","transform","translateY","translateX","_f","interpolate"],"sources":["parallax.ts"],"sourcesContent":["import { Extrapolate, interpolate } from \"react-native-reanimated\";\n\nimport type { IComputedDirectionTypes } from \"../types\";\n\ninterface TBaseConfig {\n  size: number\n  vertical: boolean\n}\n\nexport interface ILayoutConfig {\n  /**\n     * control prev/next item offset.\n     * @default 100\n     */\n  parallaxScrollingOffset?: number\n  /**\n     * control prev/current/next item offset.\n     * @default 0.8\n     */\n  parallaxScrollingScale?: number\n  /**\n     * control prev/next item offset.\n     * @default Math.pow(parallaxScrollingScale, 2)\n     */\n  parallaxAdjacentItemScale?: number\n}\n\nexport type TParallaxModeProps = IComputedDirectionTypes<{\n  /**\n     * Carousel Animated transitions.\n     */\n  mode?: \"parallax\"\n  modeConfig?: ILayoutConfig\n}>;\n\nexport function parallaxLayout(\n  baseConfig: TBaseConfig,\n  modeConfig: ILayoutConfig = {},\n) {\n  const { size, vertical } = baseConfig;\n  const {\n    parallaxScrollingOffset = 100,\n    parallaxScrollingScale = 0.8,\n    parallaxAdjacentItemScale = parallaxScrollingScale ** 2,\n  } = modeConfig;\n\n  return (value: number) => {\n    \"worklet\";\n    const translate = interpolate(\n      value,\n      [-1, 0, 1],\n      [-size + parallaxScrollingOffset, 0, size - parallaxScrollingOffset],\n    );\n\n    const zIndex = interpolate(\n      value,\n      [-1, 0, 1],\n      [0, size, 0],\n      Extrapolate.CLAMP,\n    );\n\n    const scale = interpolate(\n      value,\n      [-1, 0, 1],\n      [\n        parallaxAdjacentItemScale,\n        parallaxScrollingScale,\n        parallaxAdjacentItemScale,\n      ],\n      Extrapolate.CLAMP,\n    );\n\n    return {\n      transform: [\n        vertical\n          ? {\n            translateY: translate,\n          }\n          : {\n            translateX: translate,\n          },\n        {\n          scale,\n        },\n      ],\n      zIndex,\n    };\n  };\n}\n"]},"metadata":{},"sourceType":"script"}