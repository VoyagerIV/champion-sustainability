{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useEffect, useState } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { SearchBar } from \"../components/SearchBar\";\nimport Event from \"../components/Event\";\nimport data from \"../db\";\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar SearchResults = function SearchResults(_ref) {\n  var route = _ref.route,\n    navigation = _ref.navigation;\n  var _route$params = route.params,\n    searchInput = _route$params.searchInput,\n    distance = _route$params.distance,\n    categories = _route$params.categories;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    newSearchInput = _useState2[0],\n    setNewSearchInput = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    events = _useState4[0],\n    setEvents = _useState4[1];\n  useEffect(function () {\n    setEvents(data[\"events\"].filter(function (event) {\n      if (event.status.complete === false) {\n        return true;\n      }\n    }));\n    console.log({\n      \"search\": searchInput,\n      \"distance\": distance,\n      \"categories\": categories\n    });\n  }, []);\n  return _jsxs(View, {\n    style: styles.screenContainer,\n    children: [_jsx(View, {\n      style: styles.searchContainer,\n      children: _jsx(SearchBar, {\n        value: newSearchInput,\n        setValue: setNewSearchInput,\n        submitSearch: function submitSearch() {\n          return console.log(\"search: \" + newSearchInput);\n        }\n      })\n    }), _jsxs(ScrollView, {\n      contentContainerStyle: styles.list,\n      children: [events.map(function (event, indx) {\n        return _jsx(Event, {\n          image: event.image,\n          title: event.title,\n          date: event.date,\n          time: event.time,\n          location: event.location,\n          categories: event.categories,\n          status: \"\",\n          onPress: function onPress() {\n            return navigation.navigate(\"Event\", {\n              image: event.image,\n              title: event.title,\n              organiser: event.organiser,\n              date: event.organiser,\n              time: event.time,\n              location: event.location,\n              attendees: event.attendees,\n              capacity: event.capacity,\n              categories: event.categories,\n              description: event.description,\n              comments: event.comments,\n              status: event.status.complete\n            });\n          }\n        }, indx);\n      }), _jsx(View, {\n        style: styles.offset\n      })]\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  screenContainer: {\n    width: \"100%\",\n    maxHeight: \"100%\",\n    display: \"flex\",\n    alignItems: \"center\",\n    paddingHorizontal: 23,\n    paddingTop: 150\n  },\n  searchContainer: {\n    width: \"100%\",\n    paddingBottom: 15\n  },\n  list: {\n    width: \"100%\"\n  },\n  offset: {\n    height: 50\n  }\n});\nexport default SearchResults;","map":{"version":3,"names":["useEffect","useState","SearchBar","Event","data","SearchResults","route","navigation","params","searchInput","distance","categories","newSearchInput","setNewSearchInput","events","setEvents","filter","event","status","complete","console","log","styles","screenContainer","searchContainer","list","map","indx","image","title","date","time","location","navigate","organiser","attendees","capacity","description","comments","offset","StyleSheet","create","width","maxHeight","display","alignItems","paddingHorizontal","paddingTop","paddingBottom","height"],"sources":["/home/mohammad/Documents/GitHub/champion-sustainability/screens/SearchResults.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { StyleSheet, View, ScrollView } from \"react-native\";\n\nimport { SearchBar } from \"../components/SearchBar\";\nimport Event from \"../components/Event\";\n\nimport data from \"../db\";\n\n// distance parameter will not be used for the prototype as user location is unknown\nconst SearchResults = ({ route, navigation }) => {\n    const { searchInput, distance, categories } = route.params;\n    const [newSearchInput, setNewSearchInput] = useState([]);\n    const [events, setEvents] = useState([]);\n    \n    useEffect(() => {\n      // perform search based on given parameters\n      setEvents(\n        data[\"events\"].filter(event => {\n          // only show upcoming events\n          if (event.status.complete === false) {\n            return true;\n          }\n        })\n      );\n      console.log({\n        \"search\": searchInput,\n        \"distance\": distance,\n        \"categories\": categories\n      })\n    }, []);\n\n    return (\n      <View style={styles.screenContainer}>\n        <View style={styles.searchContainer}>\n          <SearchBar\n            value={newSearchInput}\n            setValue={setNewSearchInput}\n            submitSearch={() => console.log(`search: ${newSearchInput}`)}\n          />\n        </View>\n        <ScrollView contentContainerStyle={styles.list}>\n          {events.map((event, indx) => {\n            return (\n              <Event\n                key={indx}\n                image={event.image}\n                title={event.title}\n                date={event.date}\n                time={event.time}\n                location={event.location}\n                categories={event.categories}\n                status=\"\"\n                onPress={() =>\n                  navigation.navigate(\"Event\", {\n                    image: event.image,\n                    title: event.title,\n                    organiser: event.organiser,\n                    date: event.organiser,\n                    time: event.time,\n                    location: event.location,\n                    attendees: event.attendees,\n                    capacity: event.capacity,\n                    categories: event.categories,\n                    description: event.description,\n                    comments: event.comments,\n                    status: event.status.complete,\n                  })\n                }\n              />\n            );\n          })}\n          <View style={styles.offset} />\n        </ScrollView>\n      </View>\n    );\n}\n\nconst styles = StyleSheet.create({\n  screenContainer: {\n    width: \"100%\",\n    maxHeight: \"100%\",\n    display: \"flex\",\n    alignItems: \"center\",\n    paddingHorizontal: 23,\n    paddingTop: 150,\n  },\n  searchContainer: {\n    width: \"100%\",\n    paddingBottom: 15,\n  },\n  list: {\n    width: \"100%\",\n  },\n  offset: {\n    height: 50\n  }\n});\n\nexport default SearchResults;"],"mappings":"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"},"metadata":{},"sourceType":"module"}